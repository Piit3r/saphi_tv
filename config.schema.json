{
  "pluginAlias": "SaphiTV",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Name",
        "type": "string",
        "required": true,
        "default": "Saphi TV"
      },
      "ip_adress": {
        "title": "IP Adress",
        "type": "string",
        "required": true,
        "default": "192.168.x.x"
      },
      "wol_adress": {
        "title": "WOL Adress",
        "type": "string",
        "required": true,
        "default": "20:DE:20:DE:20:DE"
      },
      "startup_time": {
        "title": "Startup time (ms)",
        "type": "integer",
        "minimum": 10,
        "maximum": 30,
        "required": true,
        "default": 10
      },
      "polling_intervall": {
        "title": "Polling Intervall (s)",
        "type": "integer",
        "minimum": 15,
        "maximum": 120,
        "required": true,
        "default": 30
      },
      "has_ambilight": {
        "title": "Ambilight + Hue support",
        "type": "boolean",
        "required": true,
        "default": true
      },
      "ambi_poweroff": {
        "title": "Turn off Ambilight+ before turning off the TV",
        "type": "boolean",
        "required": true,
        "default": true
      },
      "ambi_poweron": {
        "title": "automatically turn on Ambilight when turning on TV",
        "type": "boolean",
        "required": true,
        "default": false
      },
      "inputs": {
        "title": "Inputs",
        "type": "array",
        "items": {
          "title": "Input",
          "type": "object",
          "properties": {
            "name": {
              "title": "Name",
              "type": "string",
              "placeholder": "Input Name",
              "required": true
            },
            "type": {
              "title": "Type",
              "type": "string",
              "oneOf": [
                { "title": "TV", "enum": ["TV"] },
                { "title": "App", "enum": ["APP"] },
                { "title": "Source", "enum": ["SOURCE"] },
                { "title": "Channel", "enum": ["CHANNEL"] }
              ],
              "required": true,
              "default" : "TV",
              "description" : "TV = Watch TV, App => e.g. Netflix, Source => e.g. HDMI1"
            },
            "position": {
              "title": "Position",
              "type": "number",
              "placeholder": "1",
              "required": true,
              "condition": {
                  "functionBody": "return model.inputs[arrayIndices].type !== 'TV';"
              }
            }
          }
        }
      }
    }
  }
}
